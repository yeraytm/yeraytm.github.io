<!DOCTYPE HTML>
<html>

<head>
	<title>Ko-Fi Engine</title>
	<link rel="icon" href="images/favicon.ico">
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css" />
</head>

<body class="is-preload">

	<div id="wrapper">

		<div id="main">
			<div class="inner">

				<section>
					<header class="main">
						<h1>Ko-Fi Engine</h1>
					</header>

					<h2>My Role</h2>
					<div class="box">
						<p style="text-align: justify;">
							During the development of the game engine, my role for the whole process was as an <b>engine programmer</b> working on core functionality and systems needed to create the game <a target="_blank" href="dune.html">Dune: Special Spice Ops</a>.
						</p>
					</div>

					<ul class="actions" style="justify-content: center; display: flex;">
						<li><a href="#contributions" class="button icon solid fa-angle-double-down"
								style="font-size: 1em">My Contributions</a></li>
					</ul>

					<h2>About the Project</h2>
					<p style="text-align: justify;">
						The Ko-Fi Engine project is a 3D game engine, the development of which started in February 2022 and has been improving in parallel to the development of the game.

						The <a target="_blank" href="https://dsso-website.vercel.app/team">Chamfer Studios</a> programming team is the group of 11 university students that developed the engine up to the point it is today, with every member working in a system of the engine.

						It started from a seed prototype from a previous course that this programming team developed later on. It was a laborious job we had to get off the ground to be able to create the Dune game. We worked in different branches from the GitHub repository that required weekly merges in order to be all up to date.
					</p>

					<p>
						The tools, APIs and libraries I have worked with during the project are:
					</p>

					<div class="row">
						<div class="col-6 col-12-small">
							<ul class="alt">
								<li style="align-items: center; min-height: 6em; display: flex">
									<span class="devicon-cplusplus-plain colored"
										style="font-size: 50px; margin-right: 0.3em;"></span>
									<span style="color: black; font-size: 1.25em">STL - Standard Template Library</span>
								</li>
								<li style="align-items: center; min-height: 6em; display: flex">
									<span class="devicon-opengl-plain colored"
										style="font-size: 50px; margin-right: 0.3em;"></span>
									<span style="color: black; font-size: 1.25em">OpenGL (with Glew extension)</span>
								</li>
								<li style="align-items: center; min-height: 6em; display: flex">
									<span class="devicon-sdl-plain colored"
										style="font-size: 50px; margin-right: 0.3em;"></span>
									<span style="color: black; font-size: 1.25em">SDL2 - Simple DirectMedia Layer</span>
								</li>
								<li style="align-items: center; min-height: 6em; display: flex">
									<span class="devicon-openal-plain colored"
										style="font-size: 50px; margin-right: 0.3em;"></span>
									<span style="color: black; font-size: 1.25em">OpenAL (Audio Library)</span>
								</li>
								<li style="align-items: center; min-height: 6em; display: flex">
									<span class="devicon-lua-plain colored"
										style="font-size: 50px; margin-right: 0.3em;"></span>
									<span style="color: black; font-size: 1.25em">Sol (C++ and Lua Binding)</span>
								</li>
							</ul>
						</div>
						<div class="col-6 col-12-small">
							<ul class="alt">
								<li style="align-items: center; min-height: 6em; display: flex">
									<span style="color: black; font-size: 1.25em">Dear ImGui (Engine Editor UI)</span>
								</li>
								<li style="align-items: center; min-height: 6em; display: flex">
									<span style="color: black; font-size: 1.25em">Assimp - Open-Asset-Importer-Library (3D Models)</span>
								</li>
								<li style="align-items: center; min-height: 6em; display: flex">
									<span style="color: black; font-size: 1.25em">JSON nlohmann Modern C++</span>
								</li>
								<li style="align-items: center; min-height: 6em; display: flex">
									<span style="color: black; font-size: 1.25em">STB Image</span>
								</li>
							</ul>
						</div>
					</div>

					<br>

					<ul class="actions" style="justify-content: center; flex-wrap: wrap;">
						<li style="margin-bottom: 6px;"><a href="https://dsso-website.vercel.app/engine" target="_blank"
								class="button icon solid fa-link" style="font-size: 1em">Website</a></li>
						<li style="margin-bottom: 6px;"><a href="https://github.com/Chamfer-Studios/Ko-Fi-Engine"
								target="_blank" class="button icon brands fa-github" style="font-size: 1em">Source Code</a></li>
					</ul>

					<span class="image fit" style="width: 90%; display: block; margin-left: auto; margin-right: auto;">
						<a href="https://dsso-website.vercel.app/engine" target="_blank"><img
								style="text-align: center;" src="images/kofi_engine_main.png" alt="" /></a>
					</span>

					<hr class="major" />

					<h1 style="text-align: center;" id="contributions">My Contributions</h1>

					<br>

					<div class="row">
						<div class="col-6 col-12-small">
							<span class="image fit"><img src="images/kofi_engine_example.gif" alt="" /></span>
						</div>
						<div class="col-6 col-12-small">
							<h2>Data Structures & Importers</h2>
							<p style="text-align: justify;">
								In the Ko-Fi Engine project, every data structure we created is called a "Resource" and they are used for different purposes. These resources are meshes, shaders, textures & animations; and all inherit from a parent Resource class.
							</p>
							<p style="text-align: justify;">
								We needed to refactor the importing methods that were present in the prototype as they required a better organization and more features. We went with a Singleton structure for these importers as a convenience for the code quality.
							</p>
							<p style="text-align: justify;">
								To organize the engine scenes we used JSON files. This serialization takes care of how the gameobjects are saved to these files, using virtual methods and avoiding trees inside the JSON by using UIDs for parenting these gameobjects.
							</p>
						</div>
					</div>

					<hr />
					<br>

					<h2>Resource Manager</h2>
					<p style="text-align: justify;">
						We programmed the engine system that takes care of the memory management of the Resources used in the scene. The manager is in charge of reading & updating the assets files into the project folder whenever there is any change, this is achieved using pairing between the asset file and a metadata file (.meta), like Unity does.
					</p>
					<p style="text-align: justify;">
						Moreover, each type of supported Resource required a new file format in order to reduce reading times by avoiding unnecessary data. These new formats were formed of a header (to specify the size and data types to read) and a body containing the raw data.
					</p>
					<p style="text-align: justify;">
						The stage of generating metadata files and managing them between programmers took a major part of the time. Using STL's maps we paired the asset UID (which is global even in the version control) with its allocated memory, reducing loading times in scenes and optimizing memory usage by only allocating the asset's data once when used in multiple instances.
					</p>
					<p style="text-align: justify;">
						In order to not use the modification time data from Windows that gave us serious issues with Git and the version control, I implemented a hashing method to know if a file has been modified based on the contents of it using the MD5 method.
					</p>

					<span class="image fit" style="width: 60%; display: block; margin-left: auto; margin-right: auto">
						<img style="text-align:center" src="images/kofi_engine_load.gif" alt="" />
					</span>

					<hr />
					<br>

					<div class="row">
						<div class="col-6 col-12-small">
							<div style="text-align: center">
								<i class="devicon-openal-plain colored" style="font-size: 25em"></i>
							</div>
						</div>
						<div class="col-6 col-12-small">
							<h2>Audio System</h2>
							<p style="text-align: justify;">
								I completed the implementation of an audio system that supports the following gameobject components:
							</p>

							<ul>
								<li>Audio Source for single tracks/SFX.</li>
								<li>Audio Switch for multiple tracks that allows fade in and out between them.</li>
							</ul>

							<p style="text-align: justify;">
								It also features offsets and looping in the case two or more music tracks have the same bpm and are intended to perform smooth transitions in between scenarios.
							</p>
							<p style="text-align: justify;">
								The system uses the OpenAL library and the DrWav extension.
							</p>
						</div>
					</div>

				</section>
			</div>
		</div>

		<div id="sidebar">
			<div class="inner">

				<nav id="menu">
					<header class="major">
						<h2>Index</h2>
					</header>
					<ul style="font-size: 18px;">
						<li><a href="index.html#header">About Me</a></li>
						<li><a href="index.html#skills">Skills</a></li>
						<li><a href="index.html#projects">My Projects</a></li>
					</ul>
				</nav>

				<section>
					<header class="major">
						<h2>Contact & Info</h2>
					</header>
					<ul class="icons" style="justify-content: center">
						<li><a href="https://www.linkedin.com/in/yeray-tarifa" target="_blank"
								class="icon brands fa-linkedin" style="font-size: 32px;"><span
									class="label">LinkedIn</span></a></li>
						<li><a href="https://github.com/yeraytm" target="_blank" class="icon brands fa-github"
								style="font-size: 32px;"><span class="label">GitHub</span></a></li>
						<li><a href="documents/YerayTarifa_GameProgrammer_CV.pdf" target="_blank"
								class="icon solid fa-file-pdf" style="font-size: 32px"></a></li>
					</ul>
					<ul class="contact">
						<li class="icon solid fa-envelope"><a href="mailto:yeraytm01@gmail.com"
								target="_blank">yeraytm01@gmail.com</a></li>
						<li class="icon solid fa-home">Barcelona</li>
					</ul>
				</section>
			</div>
		</div>
	</div>

	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>

</body>

</html>